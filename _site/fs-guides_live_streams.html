<!DOCTYPE html>
<html>
<head>
    <!-- the google_analytics_id gets auto inserted from the config file


-->
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-DPDLW922EP"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-1YL444CW83');
</script>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="Recording PCM-16 to a Dart Stream and Playback from a Dart Stream are two **VERY**, **VERY** important Flutter Sound features that must not be overlooked.">
<meta name="keywords" content=" ">
<title>PCM Dart Streams | The tau Project documentation.</title>
<link rel="stylesheet" href="css/syntax.css">

<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
<!--<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">-->
<link rel="stylesheet" href="css/modern-business.css">
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<link rel="stylesheet" href="css/customstyles.css">
<link rel="stylesheet" href="css/boxshadowproperties.css">
<!-- most color styles are extracted out to here -->
<link rel="stylesheet" href="css/theme-blue.css">

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script src="js/jquery.navgoco.min.js"></script>


<!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<!-- Anchor.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.2.0/anchor.min.js"></script>
<script src="js/toc.js"></script>
<script src="js/customscripts.js"></script>



<link rel="apple-touch-icon" sizes="180x180" href="images/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="images/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="images/favicon-16x16.png">
<link rel="manifest" href="site.webmanifest.json">
<link rel="mask-icon" href="images/safari-pinned-tab.svg" color="#5bbad5">
<link rel="shortcut icon" href="images/favicon.ico">
<!--<link rel="shortcut icon" href="images/favicon.ico"> -->
<meta name="msapplication-TileColor" content="#da532c">
<meta name="msapplication-config" content="images/browserconfig.xml">
<meta name="theme-color" content="#ffffff">



<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->

<link rel="alternate" type="application/rss+xml" title="tau_doc" href="https://tau-gh.canardoux.xyz/index.html/feed.xml">

    <script>
        $(document).ready(function() {
            // Initialize navgoco with default options
            $("#mysidebar").navgoco({
                caretHtml: '',
                accordion: true, // LARPOUX
                openClass: 'active', // open
                save: false, // leave false or nav highlighting doesn't work right // LARPOUX
                cookie: {
                    name: 'navgoco',
                    expires: false,
                    path: '/'
                },
                slide: {
                    duration: 400,
                    easing: 'swing'
                }
            });

            $("#collapseAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', false);
            });

            $("#expandAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', true);
            });

        });

    </script>
    <script>
        $(function () {
            $('[data-toggle="tooltip"]').tooltip()
        })
    </script>
    <script>
        $(document).ready(function() {
            $("#tg-sb-link").click(function() {
                $("#tg-sb-sidebar").toggle();
                $("#tg-sb-content").toggleClass('col-md-10');
                $("#tg-sb-content").toggleClass('col-md-12');
                $("#tg-sb-icon").toggleClass('fa-toggle-on');
                $("#tg-sb-icon").toggleClass('fa-toggle-off');
            });
        });
    </script>

    <script>
        $(document).ready(function() {
            $("#tg-dark-link").click(function() {
                $("#tg-dark-mode").toggle();
                $("#tg-dark-icon").toggleClass('fa-toggle-on');
                $("#tg-dark-icon").toggleClass('fa-toggle-off');
            });
        });
    </script>


    

</head>
<body>
<!-- Navigation -->
<!-- LARPOUX -->
<nav class="navbar navbar-inverse navbar-static-top">
    <div class="container topnavlinks">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>


            <a href="/index.html"> <img src="images/banner7.png" width="60%" height="60%" /> </a>
           <!--<img class="inline" src="images/tau7.svg" alt="tau" />
-->
        </div>
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <!-- toggle sidebar button -->
                <li><a id="tg-sb-link" href="#" title="Show the left navigation bar"><i id="tg-sb-icon" class="fa fa-toggle-on" ></i> Nav</a></li>
                <!-- entries without drop-downs appear here -->




                
                
                
                <!-- entries with drop-downs appear here -->
                <!-- conditional logic to control which topnav appears for the audience defined in the configuration file.-->
                
                
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Run<b class="caret"></b></a>
                    <ul class="dropdown-menu">
                        
                        
                        <li><a href="/tau\etau\live\index.html"   title="The Etau examples" >Etau examples</a></li>
                        
                        
                        
                        <li><a href="/tau\fs\live\index.html"   title="The Flutter Sound examples" >Flutter Sound examples</a></li>
                        
                        
                        
                        <li><a href="/tau\/taudio\/live\/index.html" target="_blank" rel="noopener"  title="The tau-dio examples" >Taudio examples</a></li>
                        
                        
                    </ul>
                </li>
                
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">News<b class="caret"></b></a>
                    <ul class="dropdown-menu">
                        
                        
                        <li><a href="/news.html"   title="The tau Project news" >News</a></li>
                        
                        
                        
                        <li><a href="https://github.com/Canardoux/tau/projects" target="_blank" rel="noopener"  title="A better tau" >Roadmap</a></li>
                        
                        
                    </ul>
                </li>
                
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Repo<b class="caret"></b></a>
                    <ul class="dropdown-menu">
                        
                        
                        <li><a href="https://github.com/canardoux/etau" target="_blank" rel="noopener"  title="Etau on github" >Etau</a></li>
                        
                        
                        
                        <li><a href="https://github.com/canardoux/flutter_sound" target="_blank" rel="noopener"  title="Flutter Sound on github" >Flutter Sound</a></li>
                        
                        
                        
                        <li><a href="https://github.com/canardoux/taudio" target="_blank" rel="noopener"  title="tau-dio on github" >Taudio</a></li>
                        
                        
                    </ul>
                </li>
                
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">pub.dev<b class="caret"></b></a>
                    <ul class="dropdown-menu">
                        
                        
                        <li><a href="https://pub.dev/packages/etau" target="_blank" rel="noopener"  title="Etau on flutter main site" >Etau</a></li>
                        
                        
                        
                        <li><a href="https://pub.dev/packages/flutter_sound" target="_blank" rel="noopener"  title="Flutter Sound on flutter main site" >Flutter Sound</a></li>
                        
                        
                        
                        <li><a href="https://pub.dev/packages/taudio" target="_blank" rel="noopener"  title="Taudio on flutter main site" >Taudio</a></li>
                        
                        
                    </ul>
                </li>
                
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Sharing<b class="caret"></b></a>
                    <ul class="dropdown-menu">
                        
                        
                        <li><a href="https://tau-t7l7803.slack.com" target="_blank" rel="noopener"  title="Slack is not Open Source Software :-(" >Slack</a></li>
                        
                        
                        
                        <li><a href="https://app.element.io/#/room/#tau:matrix.org" target="_blank" rel="noopener"  title="Free and Open Source. Based on Open Source Protocols" >Element</a></li>
                        
                        
                        
                        <li><a href="https://discord.com/channels/799683099473870848/799683099473870852" target="_blank" rel="noopener"  title="Unfortunately not Open Source" >Discord</a></li>
                        
                        
                    </ul>
                </li>
                
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">The τ (Tau) family<b class="caret"></b></a>
                    <ul class="dropdown-menu">
                        
                        
                        <li><a href="/etau-README.html"   title="" >Etau</a></li>
                        
                        
                        
                        <li><a href="/fs-README.html"   title="" >Flutter Sound</a></li>
                        
                        
                        
                        <li><a href="/td-README.html"   title="" >Taudio</a></li>
                        
                        
                    </ul>
                </li>
                
                
                
			<li>



  <a class="email" title="Submit feedback" href="#" onclick="javascript:window.location='mailto:larpoux@canardoux.xyz?subject=The tau Project documentation feedback&body=I have some feedback about the PCM Dart Streams page: ' + window.location.href;"><i class="fa fa-envelope-o"></i> Feedback</a>

</li>

		
                <!--comment out this block if you want to hide search-->
                <li>
                    <!--start search-->
                    <div id="search-demo-container">
                        <input type="text" id="search-input" placeholder="search...">
                        <ul id="results-container"></ul>
                    </div>
                    <script src="js/jekyll-search.js" type="text/javascript"></script>
                    <script type="text/javascript">
                            SimpleJekyllSearch.init({
                                searchInput: document.getElementById('search-input'),
                                resultsContainer: document.getElementById('results-container'),
                                dataSource: 'search.json',
                                searchResultTemplate: '<li><a href="{url}" title="PCM Dart Streams">{title}</a></li>',
                    noResultsText: 'No results found.',
                            limit: 10,
                            fuzzy: true,
                    })
                    </script>
                    <!--end search-->
                </li>
            </ul>
        </div>
        </div>
        <!-- /.container -->
</nav>


<!-- Page Content -->
<!-- <div class="container"> -->
  <div id="main">
    <!-- Content Row -->
    <div class="row">
             
            <!-- Sidebar Column -->
            <div class="col-md-2" id="tg-sb-sidebar">
                

<ul id="mysidebar" class="nav">
  <li class="sidebarTitle">Flutter Sound - 0.1.2</li>
  
  
  
      
  
  <li>
      <a title="GUIDES" href="#">GUIDES</a>
      <ul>
          
          
          
          <li><a title="Readme" href="/fs-README.html">Readme</a></li>
          
          
          
          
          
          
          <li><a title="Changelog" href="/fs-CHANGELOG.html">Changelog</a></li>
          
          
          
          
          
          
          <li><a title="Live demo" href="/tau\fs\live\index.html">Live demo</a></li>
          
          
          
          
          
          
          <li><a title="Getting Started" href="/fs-guides_getting_started.html">Getting Started</a></li>
          
          
          
          
          
          
          <li><a title="On Progress" href="/fs-guides_on_progress.html">On Progress</a></li>
          
          
          
          
          
          
          <li><a title="Installation" href="/fs-guides_install.html">Installation</a></li>
          
          
          
          
          
          
          <li><a title="Supported Codecs" href="/fs-guides_codec.html">Supported Codecs</a></li>
          
          
          
          
          
          
          <li><a title="Logger" href="/fs-guides_logger.html">Logger</a></li>
          
          
          
          
          
          
          <li><a title="Temporary files" href="/fs-guides_temporary_files.html">Temporary files</a></li>
          
          
          
          
          
          
          <li><a title="Raw PCM and Wave files" href="/fs-guides_pcm_wave.html">Raw PCM and Wave files</a></li>
          
          
          
          
          
          
          <!-- Here -->
          <li class="active"><a title="/Recording or playing live streams" href="fs-guides_live_streams.html">Recording or playing live streams</a></li>
          
          
          
          
          
          
          <li><a title="Flutter Sound on Web" href="/fs-guides_web.html">Flutter Sound on Web</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a title="EXAMPLES" href="#">EXAMPLES</a>
      <ul>
          
          
          
          <li><a title="Examples overview" href="/fs-ex__.html">Examples overview</a></li>
          
          
          
          
          
          
          <li><a title="Demo" href="/fs-ex_demo.html">Demo</a></li>
          
          
          
          
          
          
          <li><a title="Simple Playback" href="/fs-ex_simple_playback.html">Simple Playback</a></li>
          
          
          
          
          
          
          <li><a title="Simple Recorder" href="/fs-ex_simple_recorder.html">Simple Recorder</a></li>
          
          
          
          
          
          
          <li><a title="onProgress (Player)" href="/fs-ex_player_onprogress.html">onProgress (Player)</a></li>
          
          
          
          
          
          
          <li><a title="onProgress (Recorder)" href="/fs-ex_recorder_onprogress.html">onProgress (Recorder)</a></li>
          
          
          
          
          
          
          <li><a title="Multi Playbacks" href="/fs-ex_multi_playbacks.html">Multi Playbacks</a></li>
          
          
          
          
          
          
          <li><a title="Volume Control" href="/fs-ex_setVolume.html">Volume Control</a></li>
          
          
          
          
          
          
          <li><a title="Speed Control" href="/fs-ex_setSpeed.html">Speed Control</a></li>
          
          
          
          
          
          
          <li><a title="Seek" href="/fs-ex_seek.html">Seek</a></li>
          
          
          
          
          
          
          <li><a title="Record to Stream" href="/fs-ex_record_to_stream.html">Record to Stream</a></li>
          
          
          
          
          
          
          <li><a title="Playback without flow control" href="/fs-ex_playback_from_stream_1.html">Playback without flow control</a></li>
          
          
          
          
          
          
          <li><a title="Playback with flow control" href="/fs-ex_playback_from_stream_2.html">Playback with flow control</a></li>
          
          
          
          
          
          
          <li><a title="Sound Effects" href="/fs-ex_sound_effects.html">Sound Effects</a></li>
          
          
          
          
          
          
          <li><a title="Set Log Level" href="/fs-ex_setLogLevel.html">Set Log Level</a></li>
          
          
          
          
          
          
          <li><a title="Dart Streams" href="/fs-ex_streams.html">Dart Streams</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a title="API" href="#">API</a>
      <ul>
          
          
          
          <li><a title="The API - Overview" href="/fs-tau_api_main.html">The API - Overview</a></li>
          
          
          
          <li class="subfolders">
              <a title="The Player" href="#">The Player</a>
              <ul>
                  
                  
                  
                  <li><a title="Constructor" href="/fs-tau_api_player_constructor.html">Constructor</a></li>
                  
                  
                  
                  
                  
                  <li><a title="setLogLevel()" href="/fs-tau_api_player_setLogLevel.html">setLogLevel()</a></li>
                  
                  
                  
                  
                  
                  <li><a title="openPlayer()" href="/fs-tau_api_player_open_audio_session.html">openPlayer()</a></li>
                  
                  
                  
                  
                  
                  <li><a title="startPlayer()" href="/fs-tau_api_player_startPlayer.html">startPlayer()</a></li>
                  
                  
                  
                  
                  
                  <li><a title="startPlayerFromMic()" href="/fs-tau_api_player_start_player_from_mic.html">startPlayerFromMic()</a></li>
                  
                  
                  
                  
                  
                  <li><a title="startPlayerFromStream()" href="/fs-tau_api_player_start_player_from_stream.html">startPlayerFromStream()</a></li>
                  
                  
                  
                  
                  
                  <li><a title="feedFromStream()" href="/fs-tau_api_player_feed_from_stream.html">feedFromStream()</a></li>
                  
                  
                  
                  
                  
                  <li><a title="foodSink" href="/fs-tau_api_player_food_sink.html">foodSink</a></li>
                  
                  
                  
                  
                  
                  <li><a title="onProgress()" href="/fs-tau_api_player_on_progress.html">onProgress()</a></li>
                  
                  
                  
                  
                  
                  <li><a title="FoodData and FoodEvent" href="/fs-tau_api_player_food.html">FoodData and FoodEvent</a></li>
                  
                  
                  
                  
                  
                  <li><a title="stopPlayer()" href="/fs-tau_api_player_stop_player.html">stopPlayer()</a></li>
                  
                  
                  
                  
                  
                  <li><a title="pausePlayer()" href="/fs-tau_api_player_pause_player.html">pausePlayer()</a></li>
                  
                  
                  
                  
                  
                  <li><a title="resumePlayer()" href="/fs-tau_api_player_resume_player.html">resumePlayer()</a></li>
                  
                  
                  
                  
                  
                  <li><a title="seekPlayer()" href="/fs-tau_api_player_seek_player.html">seekPlayer()</a></li>
                  
                  
                  
                  
                  
                  <li><a title="setVolume()" href="/fs-tau_api_player_set_volume.html">setVolume()</a></li>
                  
                  
                  
                  
                  
                  <li><a title="setSpeed()" href="/fs-tau_api_player_set_speed.html">setSpeed()</a></li>
                  
                  
                  
                  
                  
                  <li><a title="getPlayerState()" href="/fs-tau_api_player_get_player_state.html">getPlayerState()</a></li>
                  
                  
                  
                  
                  
                  <li><a title="isDecoderSupported()" href="/fs-tau_api_player_is_decoder_supported.html">isDecoderSupported()</a></li>
                  
                  
                  
                  
                  
                  <li><a title="getProgress()" href="/fs-tau_api_player_get_progress.html">getProgress()</a></li>
                  
                  
                  
                  
                  
                  <li><a title="setSubscriptionDuration()" href="/fs-tau_api_player_set_subscription_duration.html">setSubscriptionDuration()</a></li>
                  
                  
                  
              </ul>
          </li>
          
          
          
          <li class="subfolders">
              <a title="The Recorder" href="#">The Recorder</a>
              <ul>
                  
                  
                  
                  <li><a title="Constructor" href="/tau_api_recorder_constructor.html">Constructor</a></li>
                  
                  
                  
                  
                  
                  <li><a title="setLogLevel()" href="/fs-tau_api_recorder_setLogLevel.html">setLogLevel()</a></li>
                  
                  
                  
                  
                  
                  <li><a title="openRecorder()" href="/fs-tau_api_recorder_open_audio_session.html">openRecorder()</a></li>
                  
                  
                  
                  
                  
                  <li><a title="startRecorder()" href="/fs-tau_api_recorder_start_recorder.html">startRecorder()</a></li>
                  
                  
                  
                  
                  
                  <li><a title="stopRecorder()" href="/fs-tau_api_recorder_stop_recorder.html">stopRecorder()</a></li>
                  
                  
                  
                  
                  
                  <li><a title="pauseRecorder()" href="/fs-tau_api_recorder_pause_recorder.html">pauseRecorder()</a></li>
                  
                  
                  
                  
                  
                  <li><a title="resumeRecorder()" href="/fs-tau_api_recorder_resume_recorder.html">resumeRecorder()</a></li>
                  
                  
                  
                  
                  
                  <li><a title="recorderState()" href="/fs-tau_api_recorder_recorder_state.html">recorderState()</a></li>
                  
                  
                  
                  
                  
                  <li><a title="isEncoderSupported()" href="/fs-tau_api_recorder_is_encoder_supported.html">isEncoderSupported()</a></li>
                  
                  
                  
                  
                  
                  <li><a title="onProgress" href="/fs-tau_api_recorder_on_progress.html">onProgress</a></li>
                  
                  
                  
                  
                  
                  <li><a title="setSubscriptionDuration()" href="/fs-tau_api_recorder_set_subscription_duration.html">setSubscriptionDuration()</a></li>
                  
                  
                  
                  
                  
                  <li><a title="deleteRecord()" href="/fs-tau_api_recorder_delete_record.html">deleteRecord()</a></li>
                  
                  
                  
              </ul>
          </li>
          
          
          
          <li class="subfolders">
              <a title="The utilities" href="#">The utilities</a>
              <ul>
                  
                  
                  
                  <li><a title="Constructor" href="/fs-tau_api_utilities_constructor.html">Constructor</a></li>
                  
                  
                  
                  
                  
                  <li><a title="setLogLevel()" href="/fs-tau_api_utilities_setLogLevel.html">setLogLevel()</a></li>
                  
                  
                  
                  
                  
                  <li><a title="pcmToWave()" href="/fs-tau_api_utilities_pcm_to_wave.html">pcmToWave()</a></li>
                  
                  
                  
                  
                  
                  <li><a title="pcmtoWaveBuffer()" href="/fs-tau_api_utilities_pcm_to_wave_buffer.html">pcmtoWaveBuffer()</a></li>
                  
                  
                  
                  
                  
                  <li><a title="waveToPcm()" href="/fs-tau_api_utilities_wave_to_pcm.html">waveToPcm()</a></li>
                  
                  
                  
                  
                  
                  <li><a title="waveToPcmBuffer()" href="/fs-tau_api_utilities_wave_to_pcm_buffer.html">waveToPcmBuffer()</a></li>
                  
                  
                  
                  
                  
                  <li><a title="duration()" href="/fs-tau_api_utilities_duration.html">duration()</a></li>
                  
                  
                  
              </ul>
          </li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a title="API REF" href="#">API REF</a>
      <ul>
          
          
          
          <li><a title="Dart Doc" href="/tau\fs\api\index.html">Dart Doc</a></li>
          
          
          
          
          
          
          <li><a title="Main Topic" href="/tau\fs\api\topics\Main-topic.html">Main Topic</a></li>
          
          
          
          
          
          
          <li><a title="Utilities Topic" href="/tau\fs\api\topics\Utilities-topic.html">Utilities Topic</a></li>
          
          
          
          
          
          
          <li><a title="Player Library" href="/tau\fs\api\player\player-library.html">Player Library</a></li>
          
          
          
          
          
          
          <li><a title="Player Class" href="/tau\fs\api\player\FlutterSoundPlayer-class.html">Player Class</a></li>
          
          
          
          
          
          
          <li><a title="Recorder Library" href="/tau\fs\api\recorder\recorder-library.html">Recorder Library</a></li>
          
          
          
          
          
          
          <li><a title="Helpers" href="/tau\fs\api\helper\helper-library.html">Helpers</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a title="Tau dev." href="#">Tau dev.</a>
      <ul>
          
          
          
          <li><a title="Flutter Sound dev." href="/fs-guides_dev.html">Flutter Sound dev.</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a title="LINKS" href="#">LINKS</a>
      <ul>
          
          
          
          <li><a title="Problem Report" href="https://github.com/canardoux/flutter_sound/issues" target="_blank" rel="noopener">Problem Report</a></li>
          
          
          
          
          
          
          <li><a title="Roadmap" href="https://github.com/canardoux/flutter_sound/projects/3" target="_blank" rel="noopener">Roadmap</a></li>
          
          
          
          
          
          
          <li><a title="Contributions" href="/fs-links_contribution.html">Contributions</a></li>
          
          
          
          
          
          
          <li><a title="License" href="/fs-links_LICENSE.html">License</a></li>
          
          
          
          
      </ul>
   </li>
     
      
      
      <!-- LARPOUX
         <p class="external">
             <a href="#" id="collapseAll">Collapse All</a> | <a href="#" id="expandAll">Expand All</a>
         </p>
       -->

</ul>

<!-- this highlights the active parent class in the navgoco sidebar. this is critical so that the parent expands when you're viewing a page. This must appear below the sidebar code above. Otherwise, if placed inside customscripts.js, the script runs before the sidebar code runs and the class never gets inserted.-->
<script>$("li.active").parents('li').toggleClass("active");</script>

            </div>
        

        <!-- Content Column -->
        <div class="col-md-10" id="tg-sb-content">
            <div class="post-header">
   <h1 class="post-title-main">PCM Dart Streams</h1>
</div>



<div class="post-content">

   
    <div class="summary">Recording PCM-16 to a Dart Stream and Playback from a Dart Stream are two **VERY**, **VERY** important Flutter Sound features that must not be overlooked.</div>
   

    
    
<!-- this handles the automatic toc. use ## for subheads to auto-generate the on-page minitoc. if you use html tags, you must supply an ID for the heading element in order for it to appear in the minitoc. -->
<script>
$( document ).ready(function() {
  // Handler for .ready() called.

$('#toc').toc({ minimumHeaders: 0, listType: 'ul', showSpeed: 0, headers: 'h2,h3,h4' });

/* this offset helps account for the space taken up by the floating toolbar. */
$('#toc').on('click', 'a', function() {
  var target = $(this.getAttribute('href'))
    , scroll_target = target.offset().top

  $(window).scrollTop(scroll_target - 10);
  return false
})
  
});
</script>

<div id="toc"></div>

    


    

   <h2 id="record-to-stream">Record to Stream</h2>

<p>To record to a live PCM data, when calling the verb <a href="/tau/fs/api/recorder/FlutterSoundRecorder/startRecorder.html">startRecorder()</a>, you specify the parameter <code class="language-plaintext highlighter-rouge">toStream:</code>, <code class="language-plaintext highlighter-rouge">toStreamFloat32:</code> or <code class="language-plaintext highlighter-rouge">toStreamInt16:</code> with your Stream sink, instead of the parameter <code class="language-plaintext highlighter-rouge">toFile:</code>. This parameter is a Dart StreamSink that you can listen to, for processing the audio data.</p>

<ul>
  <li>The parameter <code class="language-plaintext highlighter-rouge">toStream:</code> is used when you want to record interleaved data to a <code class="language-plaintext highlighter-rouge">&lt;Uint8List&gt;</code> Stream Sink</li>
  <li>The parameter <code class="language-plaintext highlighter-rouge">toStreamFloat32:</code> is used when you want to record non interleaved data (Planar mode) to a <code class="language-plaintext highlighter-rouge">&lt;List&lt;Float32List&gt;&gt;</code> Stream Sink</li>
  <li>The parameter <code class="language-plaintext highlighter-rouge">toStreamInt16:</code> is used when you want to record non interleaved data (Planar mode) to a <code class="language-plaintext highlighter-rouge">&lt;List&lt;Int16List&gt;&gt;</code> Stream Sink</li>
</ul>

<div class="alert alert-info" role="alert"><i class="fa fa-info-circle"></i> <b>Note:</b> 
<code class="language-plaintext highlighter-rouge">toStreamInt16:</code> are only supported on iOS. It will be supported later on Web and Android.
</div>

<div class="alert alert-info" role="alert"><i class="fa fa-info-circle"></i> <b>Note:</b> 
<code class="language-plaintext highlighter-rouge">toStreamFloat32:</code> is only supported on iOS and web. It will be supported later on Android.
</div>

<h3 id="interleaved">Interleaved</h3>

<p>Interleaved data are given as <code class="language-plaintext highlighter-rouge">&lt;Uint8List&gt;</code>. This are the Raw Data where each sample are coded with 2 or 4 unsigned bytes for each sample. This is convenient when you want to handle globally the data as a raw buffer. For example when you want send the raw data to a remote server.</p>

<h3 id="non-interleaved-or-planar">Non interleaved (or Planar)</h3>

<p>Non interleaved data are coded as <code class="language-plaintext highlighter-rouge">&lt;List&lt;Float32List&gt;&gt;</code> or <code class="language-plaintext highlighter-rouge">&lt;List&lt;Int16List&gt;&gt;</code> depending of the codec selected. The number of the element of the List is equal to the number of channels (1 for monophony, 2 for stereophony). This is convenient when you want to access the real audio data as Float32 or Int16.</p>

<div class="alert alert-success" role="alert"><i class="fa fa-check-square-o"></i> <b>Tip:</b> 
You can specify <code class="language-plaintext highlighter-rouge">toStreamFloat32</code> or <code class="language-plaintext highlighter-rouge">toStreamInt16:</code> even when you have just one channel. In this case the length of the list is 1.
</div>

<h3 id="startrecorder">startRecorder()</h3>

<p>The main parameters for the verb <a href="/tau/fs/api/recorder/FlutterSoundRecorder/startRecorder.html">startRecorder()</a> are :</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">codec:</code> : The codec (Codec.pcm16 or Codec.pcmFloat32)</li>
  <li>The Stream sink :
    <ul>
      <li><code class="language-plaintext highlighter-rouge">toStream:</code> : When you want to record data interleaved</li>
      <li><code class="language-plaintext highlighter-rouge">toStreamFloat32:</code> : When you want to record Float32 data not interleaved</li>
      <li><code class="language-plaintext highlighter-rouge">toStreamInt16:</code> : When you eant to record record Int16 data  not interleaved</li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">sampleRate:</code> : The sample rate</li>
  <li><code class="language-plaintext highlighter-rouge">numChannels:</code> The number of channels (1 for monophony, 2 for stereophony, or more …)</li>
</ul>

<hr />

<h3 id="interleaved-example"><em>Interleaved Example</em></h3>

<p>You can look to</p>
<ul>
  <li>The <a href="fs-ex_record_to_stream.html">simple example</a> provided with Flutter Sound.</li>
  <li>The <a href="fs-ex_streams.html">simple example</a></li>
</ul>

<div class="language-dart highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="n">StreamController</span><span class="p">&lt;</span><span class="n">Uint8List</span><span class="p">&gt;</span> <span class="n">recordingDataController</span> <span class="o">=</span> <span class="n">StreamController</span><span class="p">&lt;</span><span class="n">Uint8List</span><span class="p">&gt;();</span>
  <span class="n">_mRecordingDataSubscription</span> <span class="o">=</span>
          <span class="n">recordingDataController</span><span class="o">.</span><span class="na">stream</span><span class="o">.</span><span class="na">listen</span>
            <span class="p">((</span><span class="n">Uint8List</span> <span class="n">buffer</span><span class="p">)</span>
              <span class="p">{</span>
                <span class="p">...</span> <span class="c1">// Process the audio frame</span>
              <span class="p">}</span>
            <span class="p">);</span>
  <span class="k">await</span> <span class="n">_mRecorder</span><span class="o">.</span><span class="na">startRecorder</span><span class="p">(</span>
        <span class="nl">toStream:</span> <span class="n">recordingDataController</span><span class="o">.</span><span class="na">sink</span><span class="p">,</span>
        <span class="nl">codec:</span> <span class="n">Codec</span><span class="o">.</span><span class="na">pcm16</span><span class="p">,</span>
        <span class="nl">numChannels:</span> <span class="mi">2</span><span class="p">,</span>
        <span class="nl">sampleRate:</span> <span class="mi">48000</span><span class="p">,</span>
  <span class="p">);</span>
</code></pre></div></div>

<h3 id="non-interleaved-example"><em>Non Interleaved Example</em></h3>

<p>You can look to the same <a href="fs-ex_streams.html">simple example</a> provided with Flutter Sound.</p>

<div class="language-dart highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="n">StreamController</span><span class="p">&lt;</span><span class="n">Food</span><span class="p">&gt;</span> <span class="n">recordingDataController</span> <span class="o">=</span> <span class="n">StreamController</span><span class="p">&lt;</span><span class="kt">List</span><span class="p">&lt;</span><span class="n">Float32List</span><span class="p">&gt;&gt;();</span>
  <span class="n">_mRecordingDataSubscription</span> <span class="o">=</span>
          <span class="n">recordingDataController</span><span class="o">.</span><span class="na">stream</span><span class="o">.</span><span class="na">listen</span>
            <span class="p">(</span> <span class="p">(</span><span class="kt">List</span><span class="p">&lt;</span><span class="n">Float32List</span><span class="p">&gt;</span> <span class="n">buffer</span><span class="p">)</span>
              <span class="p">{</span>
                <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">channel</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">channel</span> <span class="p">&lt;</span> <span class="n">cstChannelCount</span><span class="p">;</span> <span class="o">++</span><span class="n">channel</span><span class="p">)</span>
                <span class="p">{</span>
                    <span class="n">Float32List</span> <span class="n">channelData</span> <span class="o">=</span> <span class="n">buffer</span><span class="p">[</span><span class="n">channel</span><span class="p">];</span>
                    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">n</span> <span class="p">&lt;</span> <span class="n">channelData</span><span class="o">.</span><span class="na">length</span><span class="p">;</span> <span class="o">++</span><span class="n">n</span><span class="p">)</span>
                    <span class="p">{</span>
                      <span class="kt">double</span> <span class="n">sample</span> <span class="o">=</span> <span class="n">buffer</span><span class="p">[</span><span class="n">channel</span><span class="p">][</span><span class="n">n</span><span class="p">];</span>
                      <span class="p">...</span> <span class="c1">// Process the sample</span>
                    <span class="p">}</span>
                <span class="p">}</span>
              <span class="p">}</span>
            <span class="p">);</span>
  <span class="k">await</span> <span class="n">_mRecorder</span><span class="o">.</span><span class="na">startRecorder</span><span class="p">(</span>
        <span class="nl">toStreamFloat32:</span> <span class="n">recordingDataController</span><span class="o">.</span><span class="na">sink</span><span class="p">,</span>
        <span class="nl">codec:</span> <span class="n">Codec</span><span class="o">.</span><span class="na">pcmFloat32</span><span class="p">,</span>
        <span class="nl">numChannels:</span> <span class="mi">2</span><span class="p">,</span>
        <span class="nl">sampleRate:</span> <span class="mi">48000</span><span class="p">,</span>
  <span class="p">);</span>
</code></pre></div></div>

<h3 id="notes-">Notes :</h3>

<div class="alert alert-info" role="alert"><i class="fa fa-info-circle"></i> <b>Note:</b> 
Floating Point PCM data is not yet supported on Android. It is actually only implemented on iOS and Web.
</div>

<div class="alert alert-info" role="alert"><i class="fa fa-info-circle"></i> <b>Note:</b> 
interleaved Int16 PCM data is not yet supported on Web. It is actually only implemented on iOS.
</div>

<div class="alert alert-info" role="alert"><i class="fa fa-info-circle"></i> <b>Note:</b> 
Non interleaved Int16 PCM data is not yet supported on iOS and web.
</div>

<div class="alert alert-info" role="alert"><i class="fa fa-info-circle"></i> <b>Note:</b> 
Note: This functionnality needs, at least, an Android SDK &gt;= 21. This new functionnality works better with Android minSdk &gt;= 23, because previous SDK was not able to do UNBLOCKING <code class="language-plaintext highlighter-rouge">write</code>.
</div>

<hr />

<h2 id="play-from-stream">Play from Stream</h2>

<p>To play live stream, you start playing with the verb <a href="/tau/fs/api/player/FlutterSoundPlayer/startPlayerFromStream.html">startPlayerFromStream()</a> instead of the regular <code class="language-plaintext highlighter-rouge">startPlayer()</code> verb.</p>

<p>The main parameters for the verb <a href="/tau/fs/api/player/FlutterSoundPlayer/startPlayerFromStream.html">startPlayerFromStream()</a> are :</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">codec:</code> : The codec (Codec.pcm16 or Codec.pcmFloat32)</li>
  <li><code class="language-plaintext highlighter-rouge">sampleRate:</code> : The sample rate</li>
  <li><code class="language-plaintext highlighter-rouge">numChannels:</code> : The number of channels (1 for monophony, 2 for stereophony, or more …)</li>
  <li><code class="language-plaintext highlighter-rouge">interleaved:</code> : A boolean for specifying if the data played are interleaved</li>
</ul>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>await myPlayer.startPlayerFromStream
(
    codec: Codec.pcmFloat32 
    numChannels: 2
    sampleRate: 48100
    interleaved: true,
);
</code></pre></div></div>

<h3 id="interleaved-1">interleaved:</h3>

<p>This parameter specifies if the data to be played are interleaved or not. When the data are interleaved, you will use the <a href="/tau/fs/api/player/FlutterSoundPlayer/uint8ListSink.html">_mPlayer.uint8ListSink</a> to play data. When the data are not interleaved, you will use <a href="/tau/fs/api/player/FlutterSoundPlayer/float32Sink.html">_mPlayer.float32Sink</a> or <a href="/tau/fs/api/player/FlutterSoundPlayer/int16Sink.html">_mPlayer.int16Sink</a> depending on the codec used. When the data are interleaved, the data provided by the app must be coded as UInt8List. This is convenient when you have raw data to be played from a remote server. When the data are not interleaved, they are provided as <code class="language-plaintext highlighter-rouge">List&lt;List&gt;</code>, with an array of length equal to the number of channels.</p>

<div class="alert alert-success" role="alert"><i class="fa fa-check-square-o"></i> <b>Tip:</b> 
It is possible to use non interleaved data, even with <code class="language-plaintext highlighter-rouge">numChannels</code> equal 1 when you have int16 Integers or float32 data to be played and not a raw buffer.
</div>

<div class="alert alert-info" role="alert"><i class="fa fa-info-circle"></i> <b>Note:</b> 
Non interleaved PCM data is not yet supported on Android. It is actually only implemented on iOS and Web.
</div>

<hr />

<h3 id="whenfinished">whenFinished:</h3>

<p>This parameter cannot be used. After <a href="/tau/fs/api/player/FlutterSoundPlayer/startPlayerFromStream.html">startPlayerFromStream()</a> the player is always <code class="language-plaintext highlighter-rouge">on</code> until <a href="/tau/fs/api/player/FlutterSoundPlayer/stopPlayer.html">stopPlayer()</a>. The app can provide audio data when it wants. Even after an elapsed time without any audio data.</p>

<hr />

<h3 id="playback-without-back-pressure-without-flow-control">Playback without back pressure (without flow control),</h3>

<ul>
  <li><a href="/tau/fs/api/player/FlutterSoundPlayer/float32Sink.html">_mPlayer.float32Sink</a> is a Stream Sink used when the data are interleaved and when you have UInt8List buffers to be played</li>
  <li><a href="/tau/fs/api/player/FlutterSoundPlayer/int16Sink.html">_mPlayer.int16Sink</a> is a Stream Sink used when the data are not interleaved and when you have Float32 data to be played</li>
  <li><a href="/tau/fs/api/player/FlutterSoundPlayer/int16Sink.html">_mPlayer.int16Sink</a> is a Stream Sink used when the data are not interleaved and when you have Int16 data to be played</li>
</ul>

<div class="language-dart highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Uint8List</span> <span class="n">d</span><span class="p">;</span>
<span class="p">...</span>
<span class="n">_mPlayer</span><span class="o">.</span><span class="na">uint8ListSink</span><span class="o">.</span><span class="na">add</span><span class="p">(</span><span class="n">d</span><span class="p">);</span>
</code></pre></div></div>

<div class="language-dart highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">List</span><span class="p">&lt;</span><span class="n">Float32List</span><span class="p">&gt;</span> <span class="n">d</span><span class="p">;</span> <span class="c1">// A List of `numChannels` Float32List</span>
<span class="p">...</span>
<span class="n">_mPlayer</span><span class="o">.</span><span class="na">float32Sink</span><span class="o">.</span><span class="na">add</span><span class="p">(</span><span class="n">d</span><span class="p">);</span>

</code></pre></div></div>

<div class="language-dart highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">List</span><span class="p">&lt;</span><span class="n">Int16List</span><span class="p">&gt;;</span> <span class="c1">// A List of `numChannels` Int16List</span>
<span class="p">...</span>
<span class="n">_mPlayer</span><span class="o">.</span><span class="na">int16Sink</span><span class="o">.</span><span class="na">add</span><span class="p">(</span><span class="n">d</span><span class="p">);</span>
</code></pre></div></div>

<div class="alert alert-info" role="alert"><i class="fa fa-info-circle"></i> <b>Note:</b> 
<code class="language-plaintext highlighter-rouge">int16Sink</code> is not yet supported on Android and Web. It is actually only implemented on iOS.
</div>

<div class="alert alert-info" role="alert"><i class="fa fa-info-circle"></i> <b>Note:</b> 
<code class="language-plaintext highlighter-rouge">float32Sink</code> is not yet supported on Android. It is actually only implemented on iOS and Web.
</div>

<p>The App does <code class="language-plaintext highlighter-rouge">myPlayer.uint8ListSink.add(d)</code> or <code class="language-plaintext highlighter-rouge">_mPlayer.float32Sink(d)</code> or <code class="language-plaintext highlighter-rouge">mPlayer.int16Sink(d);</code> each time it wants to play some data. No need to await, no need to verify if the previous buffers have finished to be played. All the data added to the Stream Sink are buffered, and are played sequentially. The App continues to work without knowing when the buffers are really played.</p>

<p>This means three things :</p>

<ul>
  <li>If the App is very fast adding buffers to the <code class="language-plaintext highlighter-rouge">foodSink</code> it can consume a lot of memory for the waiting buffers.</li>
  <li>When the App has finished feeding the sink, it cannot just do <code class="language-plaintext highlighter-rouge">myPlayer.stopPlayer()</code>, because there are perhaps many buffers not yet played.
If it does a <code class="language-plaintext highlighter-rouge">stopPlayer()</code>, all the waiting buffers will be flushed which is probably not what it wants.</li>
  <li>The App cannot know when the audio data are really played.</li>
</ul>

<hr />

<h3 id="examples"><em>Examples</em></h3>

<p>You can look to the provided examples :</p>

<ul>
  <li>The <a href="fs-ex_streams.html">simple example</a></li>
  <li><a href="fs-ex_playback_from_stream_1.html">This example</a> shows how to play live data, without Back Pressure from Flutter Sound</li>
</ul>

<hr />

<h3 id="playback-with-back-pressure-with-flow-control">Playback with back pressure (with flow control).</h3>

<p>Playing live data without flow control is very simple, because you don’t have to wait//handle Futures. But sometimes it can be interesting to manage a flow control :</p>
<ul>
  <li>When you have huge data generated and you cannot loop feeding your Stream Sink.</li>
  <li>When you want to know when the data has been played for generating data on demand.</li>
  <li>When you just want to know when your previous packet has been played</li>
</ul>

<p>If the App wants to keep synchronization with what is played, it uses the verb feedUint8FromStream(), feedInt16FromStream() or feedF32FromStream() to play data.</p>
<ul>
  <li><a href="/tau/fs/api/player/FlutterSoundPlayer/feedUint8FromStream.html">feedUint8FromStream()</a></li>
  <li><a href="/tau/fs/api/player/FlutterSoundPlayer/feedInt16FromStream.html">feedInt16FromStream()</a></li>
  <li><a href="/tau/fs/api/player/FlutterSoundPlayer/feedF32FromStream.html">feedF32FromStream()</a></li>
</ul>

<p>It is really very important not to call another <code class="language-plaintext highlighter-rouge">feedFromStream()</code> before the completion of the previous future. When each Future is completed, the App can be sure that the provided data are correctely either played, or at least put in low level internal buffers, and it knows that it is safe to do another one.</p>

<p><em>Example:</em></p>

<p>You can look to this <a href="fs-ex_playback_from_stream_2.html">This example</a></p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>await myPlayer.startPlayerFromStream(codec: Codec.pcm16, numChannels: 1, sampleRate: 48000);

await myPlayer.feedFromStream(aBuffer);
await myPlayer.feedFromStream(anotherBuffer);
await myPlayer.feedFromStream(myOtherBuffer);

await myPlayer.stopPlayer();
</code></pre></div></div>

<p>You will <code class="language-plaintext highlighter-rouge">await</code> or use <code class="language-plaintext highlighter-rouge">then()</code> for each call to <code class="language-plaintext highlighter-rouge">feedFromStream()</code>.</p>

<h4 id="notes--1">Notes :</h4>

<ul>
  <li>This new functionnality needs, at least, an Android SDK &gt;= 23</li>
</ul>

<h2 id="examples-1"><em>Examples</em></h2>

<p>You can look to the provided examples :</p>

<ul>
  <li><a href="fs-ex_playback_from_stream_2">This simple example</a> shows how to play live data, with Back Pressure.</li>
  <li><a href="fs-ex_playback_from_stream_1">This example</a> shows how to play live data, without Back Pressure.</li>
  <li><a href="fs-ex_streams.html">This example</a> shows how to play Float32, or Int16, Interleaved or Planar.</li>
</ul>

<hr />

<h3 id="notes--2">Notes :</h3>

<div class="alert alert-info" role="alert"><i class="fa fa-info-circle"></i> <b>Note:</b> 
Note: Floating Point PCM data is not yet supported on Android. It is actually only implemented on iOS and Web.
</div>

<div class="alert alert-info" role="alert"><i class="fa fa-info-circle"></i> <b>Note:</b> 
Note: Non interleaved PCM data is not yet supported on Android. It is actually only implemented on iOS and Web.
</div>

<div class="alert alert-info" role="alert"><i class="fa fa-info-circle"></i> <b>Note:</b> 
Note: Non interleaved Int16 PCM data is not yet supported on iOS and Web. It is only implemented with codec.pcmFloat32.
</div>

<div class="alert alert-info" role="alert"><i class="fa fa-info-circle"></i> <b>Note:</b> 
Note: This functionnality needs, at least, an Android SDK &gt;= 21. This new functionnality works better with Android minSdk &gt;= 23, because previous SDK was not able to do UNBLOCKING <code class="language-plaintext highlighter-rouge">write</code>.
</div>



    <div class="tags">
        
    </div>




</div>

<hr class="shaded"/>

<footer>
            <div class="row">
                <div class="col-lg-12 footer">
               &copy;2025 xyz.canardoux. Licensed under Creative Commons CC BY-NC-SA 4.0. <br />
 Site last generated: Feb 15, 2025 <br />
<p><img src="images/favicon180.png" alt="Company logo"  max-width="10" width="5%" height="5%"/></p>
                </div>
            </div>
</footer>




    </div>
    <!-- /.row -->
    </div>
<!-- /.container -->
<!--</div> -->
<!-- /#main -->
    </div>

</body>
<!--  -->
</html>
