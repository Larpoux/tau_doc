<!DOCTYPE html>
<html>
<head>
    <!-- the google_analytics_id gets auto inserted from the config file


-->
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-DPDLW922EP"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-1YL444CW83');
</script>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="Configuring Flutter Sound for background audio">
<meta name="keywords" content="guide,  lock_screen">
<title>Lock-screen | The tau Project documentation.</title>
<link rel="stylesheet" href="css/syntax.css">

<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
<!--<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">-->
<link rel="stylesheet" href="css/modern-business.css">
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<link rel="stylesheet" href="css/customstyles.css">
<link rel="stylesheet" href="css/boxshadowproperties.css">
<!-- most color styles are extracted out to here -->
<link rel="stylesheet" href="css/theme-blue.css">

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script src="js/jquery.navgoco.min.js"></script>


<!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<!-- Anchor.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.2.0/anchor.min.js"></script>
<script src="js/toc.js"></script>
<script src="js/customscripts.js"></script>



<link rel="apple-touch-icon" sizes="180x180" href="images/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="images/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="images/favicon-16x16.png">
<link rel="manifest" href="site.webmanifest.json">
<link rel="mask-icon" href="images/safari-pinned-tab.svg" color="#5bbad5">
<link rel="shortcut icon" href="images/favicon.ico">
<!--<link rel="shortcut icon" href="images/favicon.ico"> -->
<meta name="msapplication-TileColor" content="#da532c">
<meta name="msapplication-config" content="images/browserconfig.xml">
<meta name="theme-color" content="#ffffff">



<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->

<link rel="alternate" type="application/rss+xml" title="tau_doc" href="https://canardoux.github.io/tau_doc/feed.xml">

    <script>
        $(document).ready(function() {
            // Initialize navgoco with default options
            $("#mysidebar").navgoco({
                caretHtml: '',
                accordion: true, // LARPOUX
                openClass: 'active', // open
                save: false, // leave false or nav highlighting doesn't work right // LARPOUX
                cookie: {
                    name: 'navgoco',
                    expires: false,
                    path: '/'
                },
                slide: {
                    duration: 400,
                    easing: 'swing'
                }
            });

            $("#collapseAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', false);
            });

            $("#expandAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', true);
            });

        });

    </script>
    <script>
        $(function () {
            $('[data-toggle="tooltip"]').tooltip()
        })
    </script>
    <script>
        $(document).ready(function() {
            $("#tg-sb-link").click(function() {
                $("#tg-sb-sidebar").toggle();
                $("#tg-sb-content").toggleClass('col-md-10');
                $("#tg-sb-content").toggleClass('col-md-12');
                $("#tg-sb-icon").toggleClass('fa-toggle-on');
                $("#tg-sb-icon").toggleClass('fa-toggle-off');
            });
        });
    </script>

    <script>
        $(document).ready(function() {
            $("#tg-dark-link").click(function() {
                $("#tg-dark-mode").toggle();
                $("#tg-dark-icon").toggleClass('fa-toggle-on');
                $("#tg-dark-icon").toggleClass('fa-toggle-off');
            });
        });
    </script>


    

</head>
<body>
<!-- Navigation -->
<!-- LARPOUX -->
<nav class="navbar navbar-inverse navbar-static-top">
    <div class="container topnavlinks">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>


            <a href="/index.html"> <img src="images/banner7.png" width="60%" height="60%" /> </a>
           <!--<img class="inline" src="images/tau7.svg" alt="tau" />
-->
        </div>
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <!-- toggle sidebar button -->
                <li><a id="tg-sb-link" href="#" title="Show the left navigation bar"><i id="tg-sb-icon" class="fa fa-toggle-on" ></i> Nav</a></li>
                <!-- entries without drop-downs appear here -->




                
                
                
                <!-- entries with drop-downs appear here -->
                <!-- conditional logic to control which topnav appears for the audience defined in the configuration file.-->
                
                
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Run<b class="caret"></b></a>
                    <ul class="dropdown-menu">
                        
                        
                        <li><a href="/toto" target="_blank" rel="noopener"  title="The tau-dio examples" >tau-dio examples.</a></li>
                        
                        
                        
                        <li><a href="/danku\fs-live\index.html"   title="The Flutter Sound examples" >Flutter Sound examples.</a></li>
                        
                        
                        
                        <li><a href="/titi" target="_blank" rel="noopener"  title="The tau examples" >tau examples.</a></li>
                        
                        
                        
                        <li><a href="/titi" target="_blank" rel="noopener"  title="Run a tau-graph in the web browser" >tau-graph engine</a></li>
                        
                        
                        
                        <li><a href="/titi" target="_blank" rel="noopener"  title="The tau-cpal examples" >tau-cpal ex.</a></li>
                        
                        
                        
                        <li><a href="/live_etau_example"   title="Run the E_τ example!" >Run E_τ example</a></li>
                        
                        
                    </ul>
                </li>
                
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">News<b class="caret"></b></a>
                    <ul class="dropdown-menu">
                        
                        
                        <li><a href="/news.html"   title="The tau Project news" >News</a></li>
                        
                        
                        
                        <li><a href="https://github.com/canardoux/tau-doc/projects/1" target="_blank" rel="noopener"  title="A better tau" >Roadmap</a></li>
                        
                        
                    </ul>
                </li>
                
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Repo<b class="caret"></b></a>
                    <ul class="dropdown-menu">
                        
                        
                        <li><a href="https://github.com/canardoux/taudio" target="_blank" rel="noopener"  title="tau-dio on github" >tau-dio</a></li>
                        
                        
                        
                        <li><a href="https://github.com/canardoux/flutter_sound" target="_blank" rel="noopener"  title="Flutter Sound on github" >Flutter Sound</a></li>
                        
                        
                        
                        <li><a href="https://github.com/canardoux/tau" target="_blank" rel="noopener"  title="tau on github" >tau</a></li>
                        
                        
                        
                        <li><a href="https://github.com/canardoux/taucpal" target="_blank" rel="noopener"  title="tau-cpal on github" >tau-cpal</a></li>
                        
                        
                        
                        <li><a href="https://github.com/canardoux/etau" target="_blank" rel="noopener"  title="e-tau on github" >e-tau</a></li>
                        
                        
                    </ul>
                </li>
                
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">pub.dev<b class="caret"></b></a>
                    <ul class="dropdown-menu">
                        
                        
                        <li><a href="https://pub.dev/packages/taudio" target="_blank" rel="noopener"  title="tau-dio on flutter main site" >tau-dio</a></li>
                        
                        
                        
                        <li><a href="https://pub.dev/packages/flutter_sound" target="_blank" rel="noopener"  title="Flutter Sound on flutter main site" >Flutter Sound</a></li>
                        
                        
                        
                        <li><a href="https://pub.dev/packages/tau" target="_blank" rel="noopener"  title="tau on flutter main site" >tau</a></li>
                        
                        
                        
                        <li><a href="https://pub.dev/packages/taugraph" target="_blank" rel="noopener"  title="tau-graph on flutter main site" >tau-graph</a></li>
                        
                        
                        
                        <li><a href="https://pub.dev/packages/taucpal" target="_blank" rel="noopener"  title="tau-cpal on flutter main site" >tau-cpal</a></li>
                        
                        
                        
                        <li><a href="https://pub.dev/packages/etau" target="_blank" rel="noopener"  title="e-tau on flutter main site" >e-tau</a></li>
                        
                        
                    </ul>
                </li>
                
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Sharing<b class="caret"></b></a>
                    <ul class="dropdown-menu">
                        
                        
                        <li><a href="https://tau-t7l7803.slack.com" target="_blank" rel="noopener"  title="Slack is not Open Source Software :-(" >Slack</a></li>
                        
                        
                        
                        <li><a href="https://app.element.io/#/room/#tau:matrix.org" target="_blank" rel="noopener"  title="Free and Open Source. Based on Open Source Protocols" >Element</a></li>
                        
                        
                        
                        <li><a href="https://discord.com/channels/799683099473870848/799683099473870852" target="_blank" rel="noopener"  title="Unfortunately not Open Source" >Discord</a></li>
                        
                        
                    </ul>
                </li>
                
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">The tau family<b class="caret"></b></a>
                    <ul class="dropdown-menu">
                        
                        
                        <li><a href="/td-README.html"   title="" >tau-dio</a></li>
                        
                        
                        
                        <li><a href="/fs-README.html"   title="" >Flutter Sound</a></li>
                        
                        
                        
                        <li><a href="/tau-README.html"   title="" >tau</a></li>
                        
                        
                        
                        <li><a href="/tgr-README.html"   title="" >tau-graph</a></li>
                        
                        
                        
                        <li><a href="/tau-README.html"   title="" >tau-cpal</a></li>
                        
                        
                        
                        <li><a href="/etau-README.html"   title="" >e-tau</a></li>
                        
                        
                    </ul>
                </li>
                
                
                
			<li>



  <a class="email" title="Submit feedback" href="#" onclick="javascript:window.location='mailto:larpoux@canardoux.xyz?subject=The tau Project documentation feedback&body=I have some feedback about the Lock-screen page: ' + window.location.href;"><i class="fa fa-envelope-o"></i> Feedback</a>

</li>

		
                <!--comment out this block if you want to hide search-->
                <li>
                    <!--start search-->
                    <div id="search-demo-container">
                        <input type="text" id="search-input" placeholder="search...">
                        <ul id="results-container"></ul>
                    </div>
                    <script src="js/jekyll-search.js" type="text/javascript"></script>
                    <script type="text/javascript">
                            SimpleJekyllSearch.init({
                                searchInput: document.getElementById('search-input'),
                                resultsContainer: document.getElementById('results-container'),
                                dataSource: 'search.json',
                                searchResultTemplate: '<li><a href="{url}" title="Lock-screen">{title}</a></li>',
                    noResultsText: 'No results found.',
                            limit: 10,
                            fuzzy: true,
                    })
                    </script>
                    <!--end search-->
                </li>
            </ul>
        </div>
        </div>
        <!-- /.container -->
</nav>


<!-- Page Content -->
<!-- <div class="container"> -->
  <div id="main">
    <!-- Content Row -->
    <div class="row">
             
            <!-- Sidebar Column -->
            <div class="col-md-2" id="tg-sb-sidebar">
                

<ul id="mysidebar" class="nav">
  <li class="sidebarTitle">Flutter Sound - 9.23.0</li>
  
  
  
      
  
  <li>
      <a title="=== FLUTTER SOUND" href="#">=== FLUTTER SOUND</a>
      <ul>
          
          
          
          <li><a title="Readme" href="/fs-README.html">Readme</a></li>
          
          
          
          
          
          
          <li><a title="Changelog" href="/fs-CHANGELOG.html">Changelog</a></li>
          
          
          
          
          
          
          <li><a title="Live demo" href="/danku\fs-live\index.html">Live demo</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a title="=== GUIDES" href="#">=== GUIDES</a>
      <ul>
          
          
          
          <li><a title="Getting Started" href="/fs-guides_getting_started.html">Getting Started</a></li>
          
          
          
          
          
          
          <li><a title="Installation" href="/fs-flutter_sound_install.html">Installation</a></li>
          
          
          
          
          
          
          <li><a title="Development Setup" href="/fs-tau_dev.html">Development Setup</a></li>
          
          
          
          
          
          
          <li><a title="Supported Codecs" href="/fs-guides_codec.html">Supported Codecs</a></li>
          
          
          
          
          
          
          <li><a title="Logger" href="/fs-logger.html">Logger</a></li>
          
          
          
          
          
          
          <li><a title="Temporary files" href="/fs-temporary_files.html">Temporary files</a></li>
          
          
          
          
          
          
          <li><a title="Raw PCM and Wave files" href="/fs-guides_pcm_wave.html">Raw PCM and Wave files</a></li>
          
          
          
          
          
          
          <li><a title="Recording or playing Raw PCM" href="/fs-guides_recording_pcm.html">Recording or playing Raw PCM</a></li>
          
          
          
          
          
          
          <li><a title="Recording to a Dart Stream" href="/fs-guides_record_stream.html">Recording to a Dart Stream</a></li>
          
          
          
          
          
          
          <li><a title="Playback from a Dart Stream" href="/fs-guides_play_stream.html">Playback from a Dart Stream</a></li>
          
          
          
          
          
          
          <li><a title="Flutter Sound on Web" href="/fs-guides_web.html">Flutter Sound on Web</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a title="=== EXAMPLES" href="#">=== EXAMPLES</a>
      <ul>
          
          
          
          <li><a title="demo" href="/fs-flutter_sound_examples_demo.html">demo</a></li>
          
          
          
          
          
          
          <li><a title="Simple Playback" href="/fs-flutter_sound_examples_simple_playback.html">Simple Playback</a></li>
          
          
          
          
          
          
          <li><a title="Simple Recorder" href="/fs-flutter_sound_examples_simple_recorder.html">Simple Recorder</a></li>
          
          
          
          
          
          
          <li><a title="onProgress (Player)" href="/fs-flutter_sound_examples_player_onprogress.html">onProgress (Player)</a></li>
          
          
          
          
          
          
          <li><a title="onProgress (Recorder)" href="/fs-flutter_sound_examples_recorder_onprogress.html">onProgress (Recorder)</a></li>
          
          
          
          
          
          
          <li><a title="Multi Playbacks" href="/fs-flutter_sound_examples_multi_playbacks.html">Multi Playbacks</a></li>
          
          
          
          
          
          
          <li><a title="Volume Control" href="/fs-flutter_sound_examples_setVolume.html">Volume Control</a></li>
          
          
          
          
          
          
          <li><a title="Speed Control" href="/fs-flutter_sound_examples_setSpeed.html">Speed Control</a></li>
          
          
          
          
          
          
          <li><a title="Seek" href="/fs-flutter_sound_examples_seek.html">Seek</a></li>
          
          
          
          
          
          
          <li><a title="Record to Stream" href="/fs-flutter_sound_examples_record_to_stream.html">Record to Stream</a></li>
          
          
          
          
          
          
          <li><a title="Playback from Stream (1)" href="/fs-flutter_sound_examples_playback_from_stream_1.html">Playback from Stream (1)</a></li>
          
          
          
          
          
          
          <li><a title="Playback from Stream (2)" href="/fs-flutter_sound_examples_playback_from_stream_2.html">Playback from Stream (2)</a></li>
          
          
          
          
          
          
          <li><a title="Sound Effects" href="/fs-flutter_sound_examples_sound_effects.html">Sound Effects</a></li>
          
          
          
          
          
          
          <li><a title="Set Log Level" href="/fs-flutter_sound_examples_setLogLevel.html">Set Log Level</a></li>
          
          
          
          
          
          
          <li><a title="Media Recorder" href="/fs-flutter_sound_examples_mediaRecorder.html">Media Recorder</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a title="=== API" href="#">=== API</a>
      <ul>
          
          
          
          <li><a title="The API - Overview" href="/fs-tau_api_main.html">The API - Overview</a></li>
          
          
          
          <li class="subfolders">
              <a title="The Player" href="#">The Player</a>
              <ul>
                  
                  
                  
                  <li><a title="Constructor" href="/fs-tau_api_player_constructor.html">Constructor</a></li>
                  
                  
                  
                  
                  
                  <li><a title="setLogLevel()" href="/fs-tau_api_player_setLogLevel.html">setLogLevel()</a></li>
                  
                  
                  
                  
                  
                  <li><a title="openPlayer()" href="/fs-tau_api_player_open_audio_session.html">openPlayer()</a></li>
                  
                  
                  
                  
                  
                  <li><a title="startPlayer()" href="/fs-tau_api_player_startPlayer.html">startPlayer()</a></li>
                  
                  
                  
                  
                  
                  <li><a title="startPlayerFromMic()" href="/fs-tau_api_player_start_player_from_mic.html">startPlayerFromMic()</a></li>
                  
                  
                  
                  
                  
                  <li><a title="startPlayerFromStream()" href="/fs-tau_api_player_start_player_from_stream.html">startPlayerFromStream()</a></li>
                  
                  
                  
                  
                  
                  <li><a title="feedFromStream()" href="/fs-tau_api_player_feed_from_stream.html">feedFromStream()</a></li>
                  
                  
                  
                  
                  
                  <li><a title="foodSink" href="/fs-tau_api_player_food_sink.html">foodSink</a></li>
                  
                  
                  
                  
                  
                  <li><a title="onProgress()" href="/fs-tau_api_player_on_progress.html">onProgress()</a></li>
                  
                  
                  
                  
                  
                  <li><a title="FoodData and FoodEvent" href="/fs-tau_api_player_food.html">FoodData and FoodEvent</a></li>
                  
                  
                  
                  
                  
                  <li><a title="stopPlayer()" href="/fs-tau_api_player_stop_player.html">stopPlayer()</a></li>
                  
                  
                  
                  
                  
                  <li><a title="pausePlayer()" href="/fs-tau_api_player_pause_player.html">pausePlayer()</a></li>
                  
                  
                  
                  
                  
                  <li><a title="resumePlayer()" href="/fs-tau_api_player_resume_player.html">resumePlayer()</a></li>
                  
                  
                  
                  
                  
                  <li><a title="seekPlayer()" href="/fs-tau_api_player_seek_player.html">seekPlayer()</a></li>
                  
                  
                  
                  
                  
                  <li><a title="setVolume()" href="/fs-tau_api_player_set_volume.html">setVolume()</a></li>
                  
                  
                  
                  
                  
                  <li><a title="setSpeed()" href="/fs-tau_api_player_set_speed.html">setSpeed()</a></li>
                  
                  
                  
                  
                  
                  <li><a title="getPlayerState()" href="/fs-tau_api_player_get_player_state.html">getPlayerState()</a></li>
                  
                  
                  
                  
                  
                  <li><a title="isDecoderSupported()" href="/fs-tau_api_player_is_decoder_supported.html">isDecoderSupported()</a></li>
                  
                  
                  
                  
                  
                  <li><a title="getProgress()" href="/fs-tau_api_player_get_progress.html">getProgress()</a></li>
                  
                  
                  
                  
                  
                  <li><a title="setSubscriptionDuration()" href="/fs-tau_api_player_set_subscription_duration.html">setSubscriptionDuration()</a></li>
                  
                  
                  
              </ul>
          </li>
          
          
          
          <li class="subfolders">
              <a title="The Recorder" href="#">The Recorder</a>
              <ul>
                  
                  
                  
                  <li><a title="Constructor" href="/tau_api_recorder_constructor.html">Constructor</a></li>
                  
                  
                  
                  
                  
                  <li><a title="setLogLevel()" href="/fs-tau_api_recorder_setLogLevel.html">setLogLevel()</a></li>
                  
                  
                  
                  
                  
                  <li><a title="openRecorder()" href="/fs-tau_api_recorder_open_audio_session.html">openRecorder()</a></li>
                  
                  
                  
                  
                  
                  <li><a title="startRecorder()" href="/fs-tau_api_recorder_start_recorder.html">startRecorder()</a></li>
                  
                  
                  
                  
                  
                  <li><a title="stopRecorder()" href="/fs-tau_api_recorder_stop_recorder.html">stopRecorder()</a></li>
                  
                  
                  
                  
                  
                  <li><a title="pauseRecorder()" href="/fs-tau_api_recorder_pause_recorder.html">pauseRecorder()</a></li>
                  
                  
                  
                  
                  
                  <li><a title="resumeRecorder()" href="/fs-tau_api_recorder_resume_recorder.html">resumeRecorder()</a></li>
                  
                  
                  
                  
                  
                  <li><a title="recorderState()" href="/fs-tau_api_recorder_recorder_state.html">recorderState()</a></li>
                  
                  
                  
                  
                  
                  <li><a title="isEncoderSupported()" href="/fs-tau_api_recorder_is_encoder_supported.html">isEncoderSupported()</a></li>
                  
                  
                  
                  
                  
                  <li><a title="onProgress" href="/fs-tau_api_recorder_on_progress.html">onProgress</a></li>
                  
                  
                  
                  
                  
                  <li><a title="setSubscriptionDuration()" href="/fs-tau_api_recorder_set_subscription_duration.html">setSubscriptionDuration()</a></li>
                  
                  
                  
                  
                  
                  <li><a title="deleteRecord()" href="/fs-tau_api_recorder_delete_record.html">deleteRecord()</a></li>
                  
                  
                  
              </ul>
          </li>
          
          
          
          <li class="subfolders">
              <a title="The utilities" href="#">The utilities</a>
              <ul>
                  
                  
                  
                  <li><a title="Constructor" href="/fs-tau_api_utilities_constructor.html">Constructor</a></li>
                  
                  
                  
                  
                  
                  <li><a title="setLogLevel()" href="/fs-tau_api_utilities_setLogLevel.html">setLogLevel()</a></li>
                  
                  
                  
                  
                  
                  <li><a title="pcmToWave()" href="/fs-tau_api_utilities_pcm_to_wave.html">pcmToWave()</a></li>
                  
                  
                  
                  
                  
                  <li><a title="pcmtoWaveBuffer()" href="/fs-tau_api_utilities_pcm_to_wave_buffer.html">pcmtoWaveBuffer()</a></li>
                  
                  
                  
                  
                  
                  <li><a title="waveToPcm()" href="/fs-tau_api_utilities_wave_to_pcm.html">waveToPcm()</a></li>
                  
                  
                  
                  
                  
                  <li><a title="waveToPcmBuffer()" href="/fs-tau_api_utilities_wave_to_pcm_buffer.html">waveToPcmBuffer()</a></li>
                  
                  
                  
                  
                  
                  <li><a title="duration()" href="/fs-tau_api_utilities_duration.html">duration()</a></li>
                  
                  
                  
              </ul>
          </li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a title="=== API REF (DARTDOC)" href="#">=== API REF (DARTDOC)</a>
      <ul>
          
          
          
          <li><a title="Player Class" href="/pages\flutter-sound\api\player\FlutterSoundPlayer-class.html">Player Class</a></li>
          
          
          
          
          
          
          <li><a title="Recorder Class" href="/pages\flutter-sound\api\recorder\FlutterSoundRecorder-class.html">Recorder Class</a></li>
          
          
          
          
          
          
          <li><a title="Utilities" href="/pages\flutter-sound\api\topics\Utilities-topic.html">Utilities</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a title="=== LINKS" href="#">=== LINKS</a>
      <ul>
          
          
          
          <li><a title="Problem Report" href="https://github.com/canardoux/flutter_sound/issues" target="_blank" rel="noopener">Problem Report</a></li>
          
          
          
          
          
          
          <li><a title="Roadmap" href="https://github.com/canardoux/flutter_sound/projects/3" target="_blank" rel="noopener">Roadmap</a></li>
          
          
          
          
          
          
          <li><a title="Contributions" href="/fs-links_contribution.html">Contributions</a></li>
          
          
          
          
          
          
          <li><a title="License" href="/fs-LICENSE.html">License</a></li>
          
          
          
          
      </ul>
   </li>
     
      
      
      <!-- LARPOUX
         <p class="external">
             <a href="#" id="collapseAll">Collapse All</a> | <a href="#" id="expandAll">Expand All</a>
         </p>
       -->

</ul>

<!-- this highlights the active parent class in the navgoco sidebar. this is critical so that the parent expands when you're viewing a page. This must appear below the sidebar code above. Otherwise, if placed inside customscripts.js, the script runs before the sidebar code runs and the class never gets inserted.-->
<script>$("li.active").parents('li').toggleClass("active");</script>

            </div>
        

        <!-- Content Column -->
        <div class="col-md-10" id="tg-sb-content">
            <div class="post-header">
   <h1 class="post-title-main">Lock-screen</h1>
</div>



<div class="post-content">

   
    <div class="summary">Configuring Flutter Sound for background audio</div>
   

    
    
<!-- this handles the automatic toc. use ## for subheads to auto-generate the on-page minitoc. if you use html tags, you must supply an ID for the heading element in order for it to appear in the minitoc. -->
<script>
$( document ).ready(function() {
  // Handler for .ready() called.

$('#toc').toc({ minimumHeaders: 0, listType: 'ul', showSpeed: 0, headers: 'h2,h3,h4' });

/* this offset helps account for the space taken up by the floating toolbar. */
$('#toc').on('click', 'a', function() {
  var target = $(this.getAttribute('href'))
    , scroll_target = target.offset().top

  $(window).scrollTop(scroll_target - 10);
  return false
})
  
});
</script>

<div id="toc"></div>

    


    

    <a target="_blank" rel="noopener" href="https://github.com/canardoux/tau_doc/blob/gh-pages/pages/fs/fs_guides/lock-screen.md" class="btn btn-default githubEditButton" role="button"><i class="fa fa-github fa-lg"></i> Edit me</a>

    

   <h1 id="playing-background-audio">Playing background audio</h1>

<p>Flutter sounds open-architecture provides the ability to easily integrate a host of 3rd party plugins. We are strong advocates in keeping things simple (KISS) &amp; where a robust solution already exists, we would rather use that than trying to re-invent the wheel. With this in mind, we have provided an an example within our <code class="language-plaintext highlighter-rouge">demo app</code> that shows how to play background audio &amp; more importantly - how the audio can be controlled from your phones lock screen.</p>

<h2 id="setting-up-your-app-to-play-background-audio">Setting up your app to play background audio</h2>
<p>The first thing you will want to do is to amend your <code class="language-plaintext highlighter-rouge">pubspec.yaml</code> file and include a reference to <code class="language-plaintext highlighter-rouge">audio service</code> :</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>audio_service: ^0.18.3
</code></pre></div></div>

<h3 id="ios---amend-infoplist">iOS - Amend info.plist</h3>
<p>Next you will need to make some adjustments to your info.plist so that it supports <strong>background mode</strong> :</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;key&gt;UIBackgroundModes&lt;/key&gt;
  &lt;array&gt;
    &lt;string&gt;audio&lt;/string&gt;
  &lt;/array&gt;
</code></pre></div></div>

<h3 id="android---amend-androidmanifestxml">Android - Amend AndroidManifest.xml</h3>
<p>For Android to work correctly - a number of important changes needs to be made in your <strong>AndroidManifest</strong> file (Note , the info below assumes your Android project is 1.12 , if your project is prior to that then you will need to update your project to follow the new Flutter Android project structure (https://github.com/flutter/flutter/wiki/Upgrading-pre-1.12-Android-projects)</p>

<h5 id="add-permissions">Add permissions</h5>
<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code> &lt;uses-permission android:name="android.permission.WAKE_LOCK"/&gt;
 &lt;uses-permission android:name="android.permission.FOREGROUND_SERVICE"/&gt;
</code></pre></div></div>
<h5 id="change-activity-name">Change Activity name</h5>
<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code> android:name="com.ryanheise.audioservice.AudioServiceActivity"
</code></pre></div></div>

<h5 id="add-the-audio-service--receiver-intents">Add the audio service &amp; receiver intents</h5>
<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  &lt;service android:name="com.ryanheise.audioservice.AudioService"&gt;
  &lt;intent-filter&gt;
    &lt;action android:name="android.media.browse.MediaBrowserService" /&gt;
  &lt;/intent-filter&gt;
&lt;/service&gt;
&lt;receiver android:name="com.ryanheise.audioservice.MediaButtonReceiver" &gt;
  &lt;intent-filter&gt;
    &lt;action android:name="android.intent.action.MEDIA_BUTTON" /&gt;
  &lt;/intent-filter&gt;
&lt;/receiver&gt;
</code></pre></div></div>

<p><strong>A completed AndroidManifest would look something like this</strong></p>
<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;manifest xmlns:tools="http://schemas.android.com/tools" ...&gt;
  &lt;uses-permission android:name="android.permission.WAKE_LOCK"/&gt;
  &lt;uses-permission android:name="android.permission.FOREGROUND_SERVICE"/&gt;
  
  &lt;application ...&gt;
    &lt;activity android:name="com.ryanheise.audioservice.AudioServiceActivity" ...&gt;
      ...
    &lt;/activity&gt;
    &lt;service android:name="com.ryanheise.audioservice.AudioService"
        android:exported="true" tools:ignore="Instantiatable"&gt;
      &lt;intent-filter&gt;
        &lt;action android:name="android.media.browse.MediaBrowserService" /&gt;
      &lt;/intent-filter&gt;
    &lt;/service&gt;
    &lt;receiver android:name="com.ryanheise.audioservice.MediaButtonReceiver"
        android:exported="true" tools:ignore="Instantiatable"&gt;
      &lt;intent-filter&gt;
        &lt;action android:name="android.intent.action.MEDIA_BUTTON" /&gt;
      &lt;/intent-filter&gt;
    &lt;/receiver&gt; 
  &lt;/application&gt;
&lt;/manifest&gt;
</code></pre></div></div>

<h2 id="provide-callbacks-from-the-lock-screen-to-your-audio-handler">Provide callbacks from the Lock Screen to your Audio Handler</h2>
<p>We need a way for our code to handle lock-screen audio callbacks (Play, Pause, Stop, Previous etc) - The way we do this is to initialise the <code class="language-plaintext highlighter-rouge">AudioService</code> and customize accordingly (Android is different to iOS), we also specify a plain vanila Dart class file that <strong>houses</strong> our callback code :</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Future&lt;AudioHandler&gt; initAudioService() async {
  return await AudioService.init(
    builder: () =&gt; AudioPlayerHandler(),
    config: AudioServiceConfig(
      androidNotificationChannelId: 'com.fluttersound.audio',
      androidNotificationChannelName: 'Flutter Sound Audio Service Demo',

      /// The next two, specific to Android allows you to dismiss the Audio controls
      androidNotificationOngoing: true,
      androidStopForegroundOnPause: true,
    ),
  );
}
</code></pre></div></div>

<p>The configuration for your <code class="language-plaintext highlighter-rouge">AudioService</code> requires a completed <code class="language-plaintext highlighter-rouge">AudioServiceConfig</code>. This belongs to the <code class="language-plaintext highlighter-rouge">Audio Service Plugin</code> and allows you to easily and completely initialise iOS and Android :</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>AudioServiceConfig AudioServiceConfig({
  bool androidResumeOnClick = true,
  String? androidNotificationChannelId,
  String androidNotificationChannelName = 'Notifications',
  String? androidNotificationChannelDescription,
  Color? notificationColor,
  String androidNotificationIcon = 'mipmap/ic_launcher',
  bool androidShowNotificationBadge = false,
  bool androidNotificationClickStartsActivity = true,
  bool androidNotificationOngoing = false,
  bool androidStopForegroundOnPause = true,
  int? artDownscaleWidth,
  int? artDownscaleHeight,
  Duration fastForwardInterval = const Duration(seconds: 10),
  Duration rewindInterval = const Duration(seconds: 10),
  bool preloadArtwork = false,
  Map&lt;String, dynamic&gt;? androidBrowsableRootExtras,
})
package:audio_service/audio_service.dart

Creates a configuration object.
</code></pre></div></div>

<p>As you can see from the above snippet - you have full control for configuring Android.</p>

<p>We can see from the above <code class="language-plaintext highlighter-rouge">initAudioService</code> method that the audio handler is <code class="language-plaintext highlighter-rouge">AudioPlayerHandler</code>. This handler is what you will create and whereby you will ensure that it extends from <code class="language-plaintext highlighter-rouge">BaseAudioHandler</code>. This class is provided by the <code class="language-plaintext highlighter-rouge">AudioService</code> plugin - it will expect you to override base methods from this class so that you can control how your app behaves when control buttons like Pause, Play, Seek, Stop etc are triggered from your devices lock screen.</p>

<p>Ultimately you will simply override these base methods and delegate to your chosen AudioPlayer (Just Audio, Flutter Sound etc).</p>

<p>For the purpose of the demo, we have used JustAudio player within our <code class="language-plaintext highlighter-rouge">AudioPlayerHandler</code> but with some changes this could also be amended to include the callback code for Play, Stop, Seek, Pause etc for any Player (Flutter Sound etc).</p>

<p>With respect to <code class="language-plaintext highlighter-rouge">AudioPlayerHandler</code> - Here you will see how we override the base methods of <code class="language-plaintext highlighter-rouge">BaseAudioHandler</code> :</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  @override
  Future&lt;void&gt; play() =&gt; _useFlutterSound
      ? _flutterSoundAudioPlayer.play()
      : _justAudioPlayer.play();

  @override
  Future&lt;void&gt; pause() =&gt; _useFlutterSound
      ? _flutterSoundAudioPlayer.pause()
      : _justAudioPlayer.pause();

  @override
  Future&lt;void&gt; seek(Duration position) =&gt; _useFlutterSound
      ? _flutterSoundAudioPlayer.seekTo(position)
      : _justAudioPlayer.seek(position);

  @override
  Future&lt;void&gt; stop() =&gt; _useFlutterSound
      ? _flutterSoundAudioPlayer.stop()
      : _justAudioPlayer.stop();

</code></pre></div></div>

<p>From the above code fragment - we use a simple switch <code class="language-plaintext highlighter-rouge">_useFlutterSound</code> to determine which player we wish to use and then delegate our callbacks accordingly.</p>

<h2 id="initialising-your-audio-service">Initialising your Audio Service</h2>

<p>You are free to choose how you want to initialise your audio service (Provider, Get_x etc)  but this should be one of the first things your app does. In our demo code, we have chosen to use a simple DI plugin <code class="language-plaintext highlighter-rouge">flutter_simple_dependency_injection</code> and we initialise this in <code class="language-plaintext highlighter-rouge">main()</code> as well as create our audio service :</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Future&lt;void&gt; main() async {
  /// Lets add some DI to this demo !
  final injector = Injector();

  /// We want Audio template to be able to run in the background
  var audioService = await initAudioService();
  injector.map((i) =&gt; audioService, isSingleton: true);
  runApp(ExamplesApp());
}
</code></pre></div></div>

<p>This will then allow any code to reference <code class="language-plaintext highlighter-rouge">audioservice</code> easily :</p>

<p><strong>Play, Pause &amp; Stop buttons</strong></p>
<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   
            StreamBuilder&lt;bool&gt;(
              stream: Injector()
                  .get&lt;AudioHandler&gt;()
                  .playbackState
                  .map((state) =&gt; state.playing)
                  .distinct(),
              builder: (context, snapshot) {
                final playing = snapshot.data ?? false;
                return Row(
                  mainAxisAlignment: MainAxisAlignment.center,
                  children: [
                    _button(Icons.fast_rewind,
                        Injector().get&lt;AudioHandler&gt;().rewind),
                    if (playing)
                      _button(Icons.pause, Injector().get&lt;AudioHandler&gt;().pause)
                    else
                      _button(Icons.play_arrow,
                          Injector().get&lt;AudioHandler&gt;().play),
                    _button(Icons.stop, Injector().get&lt;AudioHandler&gt;().stop),
                    _button(Icons.fast_forward,
                        Injector().get&lt;AudioHandler&gt;().fastForward),
                  ],
                );
              },
            ),
</code></pre></div></div>

<h2 id="summary">Summary</h2>

<p>Integrating <code class="language-plaintext highlighter-rouge">AudioService</code> into  Flutter Sound consists of :</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1- Adding the plugin in your pubspec.yaml
2- Amending your AndroidManifest.xml
3- Amending your info.plist
4- Creating an AudioHandler that descends from BaseAudioHandler
5- Providing implementation code for Play, Pause, Seek, Stop etc
</code></pre></div></div>


    <div class="tags">
        
        <b>Tags: </b>
        
        
        
        <a href="tag_guide.html" class="btn btn-default navbar-btn cursorNorm" role="button">guide</a>
        
        
        
    </div>




</div>

<hr class="shaded"/>

<footer>
            <div class="row">
                <div class="col-lg-12 footer">
               &copy;2025 xyz.canardoux. Licensed under Creative Commons CC BY-NC-SA 4.0. <br />
 Site last generated: Feb 10, 2025 <br />
<p><img src="images/favicon180.png" alt="Company logo"  max-width="10" width="5%" height="5%"/></p>
                </div>
            </div>
</footer>




    </div>
    <!-- /.row -->
    </div>
<!-- /.container -->
<!--</div> -->
<!-- /#main -->
    </div>

</body>
<!--  -->
</html>
